(function(t){function n(n){for(var a,i,s=n[0],c=n[1],l=n[2],p=0,h=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(n);while(h.length)h.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],a=!0,s=1;s<e.length;s++){var c=e[s];0!==r[c]&&(a=!1)}a&&(o.splice(n--,1),t=i(i.s=e[0]))}return t}var a={},r={app:0},o=[];function i(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=a,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)i.d(e,a,function(n){return t[n]}.bind(null,a));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/map/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var u=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";e("85ec")},"18d5":function(t,n,e){"use strict";e("1988")},1988:function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("Map")],1)},o=[],i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.calculated?t._e():e("p",[t._v("Производим расчеты...")]),t.calculated?e("p",[t._v("Общая дистанция: "+t._s(t.distance.toFixed(2)))]):t._e(),e("h3",[t._v("Main map")]),e("div",{ref:"mapContainer",staticClass:"l-map"})])},s=[],c=(e("d3b7"),e("b680"),e("d81d"),e("6cc5"),e("e11e")),l=e.n(c),u={data:function(){return{text:"Add RUSSIA",data:null,map:null,mapLayer:null,url:"https://waadsu.com/api/russia.geo.json",lon1:null,lon2:null,lat1:null,lat2:null,distance:0,calculated:!1}},methods:{addRussia:function(){var t=this;this.text="pending",fetch(this.url).then((function(t){return t.json()})).then((function(n){t.data=Object.assign({},n),t.addGeoJson(t.data),t.countDistance(t.data),t.text="distance ="+t.distance.toFixed(2)+"m"})).catch((function(t){console.log(t)}))},createMapInstance:function(){this.map=l.a.map(this.$refs.mapContainer,{minZoom:3}).setView([55.7558,37.6173],10),this.mapLayer=l.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{noWrap:!0,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),this.map.addLayer(this.mapLayer)},addGeoJson:function(t){l.a.geoJSON(t).addTo(this.map)},countDistance:function(t){var n=6371e3;if(t){this.distance=0;for(var e=t.features[0].geometry.coordinates,a=0;a<e.length;a++)for(var r=0;r<e[a].length;r++)for(var o=0;o<e[a][r].length;o++){this.lon1=e[a][r][o][0],this.lat1=e[a][r][o][1],this.lon2=e[a][r][e[a][r].length-1][0],this.lat2=e[a][r][e[a][r].length-1][1];var i=this.lat1*Math.PI/180,s=this.lat2*Math.PI/180,c=(this.lat2-this.lat1)*Math.PI/180,l=(this.lon2-this.lon1)*Math.PI/180,u=Math.sin(c/2)*Math.sin(c/2)+Math.cos(i)*Math.cos(s)*Math.sin(l/2)*Math.sin(l/2),p=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),h=n*p;this.distance+=h}}}},mounted:function(){this.createMapInstance(),this.addRussia()}},p=u,h=(e("18d5"),e("2877")),d=Object(h["a"])(p,i,s,!1,null,"6b0097d2",null),f=d.exports,m={name:"App",components:{Map:f}},v=m,b=(e("034f"),Object(h["a"])(v,r,o,!1,null,null,null)),g=b.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(g)}}).$mount("#app")},"85ec":function(t,n,e){}});
//# sourceMappingURL=app.4e7991f9.js.map